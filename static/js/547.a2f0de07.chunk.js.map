{"version":3,"file":"static/js/547.a2f0de07.chunk.js","mappings":"8LAoFA,QAjFA,SAA6BA,GAAyB,IAAxB,OAAEC,EAAM,UAAEC,GAAWF,EACjD,MAAOG,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,KAC9BC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,GA2CvC,OAzCAG,EAAAA,EAAAA,YAAU,KACmBC,WAEzB,MAAMC,QAAwBC,MAAM,yEAADC,OACwCV,EAAS,SAAAU,OAAQX,IAGtFY,SADoBH,EAAgBI,QAE5BC,MAAM,GAAGC,eAAeC,iBAAiBC,QAGvD,IAAIC,EAAY,GACZC,EAAgB,GAEpB,EAAG,CACD,MAAMC,QAAyBV,MAAM,+EAADC,OAC6CC,EAAiB,uBAAAD,OAAsBX,EAAM,eAAAW,OAAcQ,IAEtIE,QAAqBD,EAAiBP,OAC5CS,QAAQC,IAAI,eAAgBF,GAC5B,MAAMG,EAAaH,EAAaP,MAAMW,KAAKC,IAAI,CAC7CC,GAAID,EAAKE,QAAQC,WAAWC,QAC5BC,MAAOL,EAAKE,QAAQG,OAAS,MAC7BC,YAAaN,EAAKE,QAAQI,gBAM5Bd,EAAY,IAAIA,KAAcM,GAE9BL,EAAgBE,EAAaF,eAAiB,EAChD,OAASA,GAEThB,EAAUe,GACVZ,GAAW,EAAM,EAGnB2B,EAAoB,GACnB,CAACjC,EAAQC,IAERI,GAAgB6B,EAAAA,EAAAA,KAAA,OAAAC,SAAK,gBACzBb,QAAQC,IAAI,YAAarB,IAEvBgC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,YAAWD,UACxBD,EAAAA,EAAAA,KAAA,OAAKE,UAAU,aAAYD,SACxBjC,EAAOuB,KAAKY,IACXC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,aAAYD,SAAA,EACzBD,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kBAAiBD,UAC9BD,EAAAA,EAAAA,KAACK,IAAW,CACVC,IAAG,mCAAA7B,OAAqC0B,EAAMV,IAC9Cc,UAAQ,OAGZH,EAAAA,EAAAA,MAAA,OAAKF,UAAU,aAAYD,SAAA,EACzBD,EAAAA,EAAAA,KAAA,MAAIE,UAAU,cAAaD,SAAEE,EAAMN,SACnCG,EAAAA,EAAAA,KAAA,KAAGE,UAAU,oBAAmBD,SAAEE,EAAML,eACxCM,EAAAA,EAAAA,MAAA,UACEF,UAAU,kBACVM,QAASA,IACPC,OAAOC,KAAK,mCAADjC,OAC0B0B,EAAMV,IACzC,UAEHQ,SAAA,EACDD,EAAAA,EAAAA,KAAA,KAAGE,UAAU,yBAA2B,mCAlBbC,EAAMV,UA4BjD,C","sources":["com/youtube/YoutubeChannelVideos.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport ReactPlayer from \"react-player\";\r\nimport \"./youtube.css\";\r\nfunction YoutubeChannelVideos({ apiKey, channelId }) {\r\n  const [videos, setVideos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchChannelVideos = async () => {\r\n      // Step 1: Get the channel's uploads playlist ID\r\n      const channelResponse = await fetch(\r\n        `https://www.googleapis.com/youtube/v3/channels?part=contentDetails&id=${channelId}&key=${apiKey}`\r\n      );\r\n      const channelData = await channelResponse.json();\r\n      const uploadsPlaylistId =\r\n        channelData.items[0].contentDetails.relatedPlaylists.uploads;\r\n\r\n      // Step 2: Fetch all videos from the uploads playlist\r\n      let allVideos = [];\r\n      let nextPageToken = \"\";\r\n\r\n      do {\r\n        const playlistResponse = await fetch(\r\n          `https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=${uploadsPlaylistId}&maxResults=50&key=${apiKey}&pageToken=${nextPageToken}`\r\n        );\r\n        const playlistData = await playlistResponse.json();\r\n        console.log(\"playlistData\", playlistData);\r\n        const videoItems = playlistData.items.map((item) => ({\r\n          id: item.snippet.resourceId.videoId,\r\n          title: item.snippet.title || \"xxx\",\r\n          description: item.snippet.description,\r\n        }));\r\n        // const videoIds = playlistData.items.map(\r\n        //   (item) => item.snippet.resourceId.videoId\r\n        // );\r\n        // allVideos = [...allVideos, ...videoIds];\r\n        allVideos = [...allVideos, ...videoItems];\r\n\r\n        nextPageToken = playlistData.nextPageToken || \"\";\r\n      } while (nextPageToken);\r\n\r\n      setVideos(allVideos);\r\n      setLoading(false);\r\n    };\r\n\r\n    fetchChannelVideos();\r\n  }, [apiKey, channelId]);\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n  console.log(\"videos...\", videos);\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"video-grid\">\r\n        {videos.map((video) => (\r\n          <div className=\"video-card\" key={video.id}>\r\n            <div className=\"video-container\">\r\n              <ReactPlayer\r\n                url={`https://www.youtube.com/watch?v=${video.id}`}\r\n                controls\r\n              />\r\n            </div>\r\n            <div className=\"video-meta\">\r\n              <h3 className=\"video-title\">{video.title}</h3>\r\n              <p className=\"video-description\">{video.description}</p>\r\n              <button\r\n                className=\"btn btn-youtube\"\r\n                onClick={() =>\r\n                  window.open(\r\n                    `https://www.youtube.com/watch?v=${video.id}`,\r\n                    \"_blank\"\r\n                  )\r\n                }>\r\n                <i className=\"fa-brands fa-youtube\"></i>&nbsp; Watch on\r\n                YouTube...\r\n              </button>\r\n              {/* suggestions social share... */}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default YoutubeChannelVideos;\r\n"],"names":["_ref","apiKey","channelId","videos","setVideos","useState","loading","setLoading","useEffect","async","channelResponse","fetch","concat","uploadsPlaylistId","json","items","contentDetails","relatedPlaylists","uploads","allVideos","nextPageToken","playlistResponse","playlistData","console","log","videoItems","map","item","id","snippet","resourceId","videoId","title","description","fetchChannelVideos","_jsx","children","className","video","_jsxs","ReactPlayer","url","controls","onClick","window","open"],"sourceRoot":""}